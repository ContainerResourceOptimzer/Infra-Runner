// proto/agent.proto

syntax = "proto3";
package runner;

service RunnerAgent {
  rpc RunJob(RunJobRequest) returns (RunJobResponse);
  rpc RunMonitor(RunMonitorRequest) returns (RunMonitorResponse);
  rpc InitExperimentConfigs(ExperimentConfigsRequest) returns (ExperimentConfigsResponse);
}

message RunJobRequest {
  string exp_id = 1;
  double cpu = 2;
  string mem = 3;
}

message RunJobResponse {
  string job_id = 1;
  bool success = 2;
}

message RunMonitorRequest {}

message RunMonitorResponse {
  bool success = 1;
  string message = 2;
}

message ExperimentConfigsRequest {
  string exp_id = 1;
  string test_api_image = 2;
  int32 http_req_duration = 3;
  int32 http_reqs = 4;
}

message ExperimentConfigsResponse {
  bool success = 1;
  string message = 2;
}
